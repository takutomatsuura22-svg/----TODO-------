# 動作確認チェックリスト

## 1. エラーメッセージ表示の確認

### 1-1. TODO保存時のエラー表示
1. `/todos` にアクセス
2. 任意のTODOをクリックして詳細画面へ
3. ステータスを変更して保存
4. **確認**: 保存成功時に「保存しました。」の緑色メッセージが表示される
5. **確認**: メッセージは3秒後に自動で非表示になる
6. **確認**: ×ボタンで手動で非表示にできる

### 1-2. テンプレート作成時のエラー表示
1. 管理者アカウントでログイン
2. `/admin/templates/new` にアクセス
3. 不正なJSONを入力項目に設定（例: `[{"invalid": json}]`）
4. 保存ボタンをクリック
5. **確認**: 「入力項目のJSON形式が正しくありません。」の赤色メッセージが表示される
6. **確認**: メッセージは5秒後に自動で非表示になる

### 1-3. 重複IDエラーの表示
1. 管理者アカウントでログイン
2. `/admin/templates/new` にアクセス
3. 既存のテンプレートIDを入力
4. 保存ボタンをクリック
5. **確認**: 「このテンプレートIDは既に使用されています。」の赤色メッセージが表示される

## 2. 成功メッセージ表示の確認

### 2-1. TODO保存成功
1. `/todos` にアクセス
2. 任意のTODOをクリック
3. ステータスを変更して保存
4. **確認**: `/todos` にリダイレクトされ、「保存しました。」の緑色メッセージが表示される

### 2-2. 進路情報保存成功
1. `/admissions` にアクセス
2. 進路情報を入力して保存
3. **確認**: 「保存しました。」の緑色メッセージが表示される

### 2-3. テンプレート作成成功
1. 管理者アカウントでログイン
2. `/admin/templates/new` にアクセス
3. 正しい情報を入力して保存
4. **確認**: `/admin/templates` にリダイレクトされ、「作成しました。」の緑色メッセージが表示される

### 2-4. ユーザー更新成功
1. 管理者アカウントでログイン
2. `/admin/users` にアクセス
3. 任意のユーザーを編集
4. ロールを変更して保存
5. **確認**: `/admin/users` にリダイレクトされ、「更新しました。」の緑色メッセージが表示される

## 3. デバッグログ削除の確認

### 3-1. ブラウザコンソールの確認
1. ブラウザの開発者ツールを開く（F12）
2. Consoleタブを開く
3. 各ページを操作（ログイン、TODO操作、進路情報入力など）
4. **確認**: `console.log` によるデバッグログが表示されない
5. **確認**: `console.error` によるエラーログのみが表示される（エラー発生時のみ）

### 3-2. サーバーサイドログの確認
1. ターミナルで開発サーバーのログを確認
2. 各ページを操作
3. **確認**: `[HOME PAGE]`, `[LOGIN PAGE]`, `[PENDING PAGE]` などのデバッグログが表示されない
4. **確認**: `[MIDDLEWARE]` のデバッグログが表示されない

## 4. 主要機能の動作確認

### 4-1. ログイン・認証
1. `/login` にアクセス
2. Googleでログイン
3. **確認**: 正常にログインできる
4. **確認**: プロフィール未設定の場合は `/profile/setup` にリダイレクト
5. **確認**: ロール未設定の場合は `/pending` にリダイレクト
6. **確認**: ロール設定済みの場合は適切なダッシュボードにリダイレクト

### 4-2. TODO機能（生徒）
1. 生徒アカウントでログイン
2. `/todos` にアクセス
3. **確認**: TODO一覧が表示される
4. 任意のTODOをクリック
5. **確認**: TODO詳細画面が表示される
6. ステータスを変更して保存
7. **確認**: 保存成功メッセージが表示される
8. **確認**: `/todos` にリダイレクトされる

### 4-3. 進路情報機能（生徒）
1. 生徒アカウントでログイン
2. `/admissions` にアクセス
3. **確認**: 進路情報入力フォームが表示される
4. 情報を入力して保存
5. **確認**: 保存成功メッセージが表示される
6. 「+ 志望校を追加」をクリック
7. **確認**: 志望校追加画面が表示される
8. 志望校を選択して登録
9. **確認**: 登録成功メッセージが表示される

### 4-4. 教員ダッシュボード
1. 教員アカウントでログイン
2. `/teacher/dashboard` にアクセス
3. **確認**: 生徒一覧が表示される
4. **確認**: 停滞フラグが正しく表示される
5. 任意の生徒をクリック
6. **確認**: 生徒詳細画面が表示される

### 4-5. 管理者機能
1. 管理者アカウントでログイン
2. `/admin/users` にアクセス
3. **確認**: ユーザー一覧が表示される
4. 任意のユーザーを編集
5. **確認**: ユーザー編集画面が表示される
6. ロールを変更して保存
7. **確認**: 更新成功メッセージが表示される
8. `/admin/templates` にアクセス
9. **確認**: テンプレート一覧が表示される
10. 「+ テンプレートを追加」をクリック
11. **確認**: テンプレート追加画面が表示される
12. 正しい情報を入力して保存
13. **確認**: 作成成功メッセージが表示される

## 5. エッジケースの確認

### 5-1. ネットワークエラー時の動作
1. 開発者ツールでネットワークをオフラインに設定
2. TODOを保存しようとする
3. **確認**: 適切なエラーメッセージが表示される（またはブラウザのデフォルトエラー）

### 5-2. 権限エラーの確認
1. 生徒アカウントでログイン
2. `/admin/users` に直接アクセスしようとする
3. **確認**: 適切にリダイレクトされる（またはエラーメッセージが表示される）

## 6. レスポンシブデザインの確認

### 6-1. モバイル表示
1. ブラウザの開発者ツールでモバイル表示に切り替え
2. 各ページを確認
3. **確認**: レイアウトが崩れていない
4. **確認**: エラーメッセージ・成功メッセージが正しく表示される

### 6-2. タブレット表示
1. タブレットサイズに調整
2. 各ページを確認
3. **確認**: レイアウトが適切に調整されている

## 確認完了後のチェック

- [ ] すべてのエラーメッセージが正しく表示される
- [ ] すべての成功メッセージが正しく表示される
- [ ] デバッグログが削除されている
- [ ] 主要機能が正常に動作する
- [ ] エッジケースで適切にエラーハンドリングされる
- [ ] レスポンシブデザインが機能している

## 問題が発見された場合

1. 問題の詳細を記録
2. 再現手順を記録
3. エラーメッセージの内容を記録
4. ブラウザコンソールのエラーを記録
5. 開発サーバーのログを確認
